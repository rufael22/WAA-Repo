{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/Lab-8/lab8/src/container/Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport Posts from './posts/Posts';\nimport axios from \"axios\";\nimport PostDetails from '../component/postdetails/PostDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [postState, setPostState] = useState([]);\n  const [flag, setFlag] = useState(true);\n  const [selected, setSelected] = useState(0);\n  const fetchData = () => {\n    axios.get('http://localhost:8080/api/v1/posts').then(response => {\n      setPostState(response.data);\n    }).catch(error => {\n      console.log(error.message);\n    });\n  };\n  useEffect(() => {\n    fetchData();\n  }, [flag]);\n  const selectHandler = id => {\n    setSelected(id);\n    console.log(id);\n  };\n  const deleteHandler = id => {\n    axios.delete('http://localhost:8080/api/posts/delete/' + id).then(response => {\n      fetchData();\n      console.log(response);\n    }).catch(error => {\n      console.log(error.message);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Posts, {\n        data: postState,\n        setSelected: selectHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(PostDetails, {\n        id: selected,\n        title: {\n          ...postState[selected - 1]\n        }.title,\n        author: {\n          ...postState[selected - 1]\n        }.author,\n        content: {\n          ...postState[selected - 1]\n        }.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(Dashboard, \"XxFmNspMO+zOTMgtgska/mwmo5k=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","Posts","axios","PostDetails","Dashboard","postState","setPostState","flag","setFlag","selected","setSelected","fetchData","get","then","response","data","catch","error","console","log","message","selectHandler","id","deleteHandler","delete","title","author","content"],"sources":["/Users/user/Desktop/Lab-8/lab8/src/container/Dashboard.js"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport Posts from './posts/Posts';\nimport axios from \"axios\";\nimport PostDetails from '../component/postdetails/PostDetails';\n\nconst Dashboard = () => {\n\n    const [postState , setPostState] = useState([]);\n    const[flag , setFlag] = useState(true)\n    const [selected, setSelected] = useState(0);\n    \n\n   \n    const fetchData = () => {\n        axios.get('http://localhost:8080/api/v1/posts')\n            .then(response => {\n                setPostState(response.data)\n            })\n            .catch(error => {\n                console.log(error.message)\n            })\n    }\n    useEffect(() => { fetchData() }, [flag])\n\n    const selectHandler = (id)=>{\n        setSelected(id);\n        console.log(id);\n    }\n\n    const deleteHandler = (id)=>{\n        axios.delete('http://localhost:8080/api/posts/delete/' + id)\n        .then(response => {\n            fetchData(); console.log(response)\n        })\n        .catch(error => {\n            console.log(error.message)\n        })\n\n\n    }\n\n\n\n\n\n\n\n    return ( \n\n        <div>\n            <div>\n                <Posts\n                data={postState}\n                setSelected={selectHandler}\n                \n                />\n            </div>\n            <div>\n                <PostDetails\n                \n                 id={selected}\n                 title={{ ...postState[selected - 1] }.title}\n                 author={{ ...postState[selected - 1] }.author}\n                 content={{ ...postState[selected - 1] }.content}\n                 \n             />\n\n                \n            </div>\n        </div>\n     );\n}\n \nexport default Dashboard;"],"mappings":";;AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,sCAAsC;AAAC;AAE/D,MAAMC,SAAS,GAAG,MAAM;EAAA;EAEpB,MAAM,CAACC,SAAS,EAAGC,YAAY,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC/C,MAAK,CAACO,IAAI,EAAGC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EAI3C,MAAMW,SAAS,GAAG,MAAM;IACpBT,KAAK,CAACU,GAAG,CAAC,oCAAoC,CAAC,CAC1CC,IAAI,CAACC,QAAQ,IAAI;MACdR,YAAY,CAACQ,QAAQ,CAACC,IAAI,CAAC;IAC/B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC;IAC9B,CAAC,CAAC;EACV,CAAC;EACDrB,SAAS,CAAC,MAAM;IAAEY,SAAS,EAAE;EAAC,CAAC,EAAE,CAACJ,IAAI,CAAC,CAAC;EAExC,MAAMc,aAAa,GAAIC,EAAE,IAAG;IACxBZ,WAAW,CAACY,EAAE,CAAC;IACfJ,OAAO,CAACC,GAAG,CAACG,EAAE,CAAC;EACnB,CAAC;EAED,MAAMC,aAAa,GAAID,EAAE,IAAG;IACxBpB,KAAK,CAACsB,MAAM,CAAC,yCAAyC,GAAGF,EAAE,CAAC,CAC3DT,IAAI,CAACC,QAAQ,IAAI;MACdH,SAAS,EAAE;MAAEO,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;IACtC,CAAC,CAAC,CACDE,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC;IAC9B,CAAC,CAAC;EAGN,CAAC;EAQD,oBAEI;IAAA,wBACI;MAAA,uBACI,QAAC,KAAK;QACN,IAAI,EAAEf,SAAU;QAChB,WAAW,EAAEgB;MAAc;QAAA;QAAA;QAAA;MAAA;IAEzB;MAAA;MAAA;MAAA;IAAA,QACA,eACN;MAAA,uBACI,QAAC,WAAW;QAEX,EAAE,EAAEZ,QAAS;QACb,KAAK,EAAE;UAAE,GAAGJ,SAAS,CAACI,QAAQ,GAAG,CAAC;QAAE,CAAC,CAACgB,KAAM;QAC5C,MAAM,EAAE;UAAE,GAAGpB,SAAS,CAACI,QAAQ,GAAG,CAAC;QAAE,CAAC,CAACiB,MAAO;QAC9C,OAAO,EAAE;UAAE,GAAGrB,SAAS,CAACI,QAAQ,GAAG,CAAC;QAAE,CAAC,CAACkB;MAAQ;QAAA;QAAA;QAAA;MAAA;IAElD;MAAA;MAAA;MAAA;IAAA,QAGG;EAAA;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd,CAAC;AAAA,GAlEKvB,SAAS;AAAA,KAATA,SAAS;AAoEf,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}